---
import { baseURL } from "@/config";
import Layout from "../layouts/Layout.astro";
import PaymentList from "../components/PaymentList.astro";
import ShoppingList from "../components/ShoppingList.astro";
---

<Layout title="Invoice">
  <my-container>
    <div class="payment-form">
      <div class="form-header">
        <h1>發票</h1>
        <div class="step-guide">
          <span class="step-accepted"
            ><img src={baseURL + "/images/check.svg"} alt="" /></span
          >
          <span class="line"></span>
          <span class="step-accepted"
            ><img src={baseURL + "/images/check.svg"} alt="" /></span
          >
          <span class="line"></span>
          <span class="step-active"><span class="step"></span></span>
        </div>
      </div>

      <form action={baseURL + "/success"}>
        <div class="btn-invoice">
          <button class="e-invoice"><a href="/invoice">電子發票</a></button>
          <button class="paper-invoice"
            ><a href="/paper-invoice">郵寄發票</a></button
          >
        </div>
        <div class="form-group full-width">
          <label class="checkbox"
            ><input
              type="checkbox"
              style="transform:scale(1.23);"
            />同運送地址</label
          >
          <label class="address" for="city">地址</label>
          <div class="address-group">
            <select id="city">
              <option value="高雄" selected>高雄市</option>
              <option value="台南">台南</option>
              <option value="台北">台北</option>
            </select>
            <select id="city">
              <option value="新興區" selected>新興區</option>
              <option value="三民區">三民區</option>
              <option value="苓雅區">苓雅區</option>
            </select>
          </div>
          <input type="text" placeholder="幸福路 520 號" />
        </div>
        <div class="form-group full-width">
          <label for="tax-id-number">統一編號（選填）</label>
          <input
            type="text"
            id="tax-id-number"
            inputmode="numeric"
            placeholder="12345678"
          />
        </div>
        <button type="submit" class="btn-next">確認結帳</button>
      </form>
    </div>

    <div>
      <PaymentList subtotal={2700} shipping={300} />
    </div>

    <div class="shopping-list">
      <div class="label"><h2>購物清單</h2></div>
      <ShoppingList
        productImageURL={baseURL + "/images/p-4.png"}
        productTitle="焦糖蘋果派"
        productBasePrice={450}
        quantity={2}
      />
      <ShoppingList
        productImageURL={baseURL + "/images/p-5.png"}
        productTitle="草莓波士頓"
        productBasePrice={450}
        quantity={2}
      />
      <ShoppingList
        productImageURL={baseURL + "/images/p-3.png"}
        productTitle="頂級莓果派"
        productBasePrice={450}
        quantity={2}
      />
    </div>
  </my-container>

  <style lang="scss">
    @use "../styles/_vars";
    my-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      margin: 0 7.625rem 4.06rem 7.625rem;
      gap: 1.25rem;
    }
    .payment-form {
      width: 28.75rem;
      height: 38.81rem;
      background: #3f5d45;
      grid-row: span 2;
      position: relative;
      color: #eaf0ed;
      justify-self: end;
    }

    .form-header {
      display: flex;
      justify-content: space-between;
      padding: 1.875rem 2.5rem;
      color: #eaf0ed;
      h1 {
        margin: 0;
        font-size: 2.25rem;
      }
    }

    /*進度條*/
    .step-guide {
      display: flex;
      align-items: center;
    }
    .step-accepted {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: #eaf0ed;
      display: flex;
      align-items: center;
      justify-content: center;
      img {
        width: 100%;
      }
    }
    .step-active {
      width: 1.25rem;
      height: 1.25rem;
      border-radius: 50%;
      border: 1px solid #eaf0ed;
      display: flex;
      align-items: center;
      justify-content: center;
      .step {
        background-color: #eaf0ed;
        width: 0.875rem;
        height: 0.875rem;
        border-radius: 50%;
      }
    }
    .line {
      width: 4.25rem;
      height: 1px;
      background-color: #eaf0ed;
    }

    /*表格*/
    form {
      display: flex;
      flex-wrap: wrap;
      padding: 0 2.5rem 1.875rem;
      gap: 0.5rem;
    }

    .btn-invoice {
      display: flex;
      button {
        height: 3.5rem;
        width: 11.875rem;
        margin-bottom: 1.375rem;
      }
      a {
        width: 158.5px;
        text-decoration: none;
        font-size: 1.25rem;
        color: #3f5d45;
        font-weight: bold;
      }
    }
    .e-invoice {
      background: #3f5d45;
      border: 1px solid #eaf0ed;
      a {
        color: #eaf0ed;
      }
    }
    .paper-invoice {
      background: #eaf0ed;
      border: none;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      width: 186px;
      font-size: 1.25rem;
      label {
        margin: 0 0 0.5rem 0;
        display: flex;
      }
      input {
        margin-bottom: 0.5rem;
      }
    }
    label.address {
      position: relative;
    }
    .checkbox {
      position: absolute;
      justify-content: end;
      align-items: center;
      right: 0;
      bottom: 110px;
      font-size: 1rem;
    }

    .form-group.full-width {
      width: 100%;
      position: relative;
    }
    .address-group {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      select {
        flex: 1;
        color: #8da291;
      }
    }
    input::placeholder {
      color: #8da291;
      background: #eaf0ed;
    }
    input,
    select {
      border: none;
      font-size: 1rem;
      padding: 1rem;
      height: 3.5rem;
      background: #eaf0ed;
    }
    .btn-next {
      background: #ffe180;
      border: none;
      position: absolute;
      width: 100%;
      height: 4.06rem;
      bottom: 0;
      left: 0;
      font-size: 1.5rem;
      color: #3f5d45;
      font-weight: bold;
      cursor: pointer;
    }

    .label {
      display: flex;
      justify-content: center;
      align-items: center;
      background: #eaf0ed;
      width: 18.75rem;
      height: 4.06rem;
      h2 {
        color: #8da291;
        margin: 0;
      }
    }
  </style>
</Layout>
